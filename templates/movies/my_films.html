{% extends "base.html" %}

{% block title %}
  My Films ‚Äî FilmMate
{% endblock %}

{% block content %}
  <div class="container my-4">
    <h2 class="text-light mb-4">üé¨ My Films</h2>

    {% if watched_data %}
      <div class="row row-cols-2 row-cols-md-4 g-4">
        {% for item in watched_data %}
          <div class="col">
            <div class="card bg-dark text-light border-secondary h-100">
              <a href="{% url 'movies:movie_detail' item.movie.id %}">
                {% if item.movie.poster %}
                  <img src="{{ item.movie.poster }}" class="card-img-top" alt="{{ item.movie.title }}">
                {% endif %}
              </a>
              <div class="card-body">
                <h6 class="card-title mb-1">{{ item.movie.title }}</h6>
                {% if item.rating %}
                  <p class="text-warning mb-0">‚≠ê {{ item.rating }}/10</p>
                {% else %}
                  <p class="text-muted mb-0">No rating yet</p>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-muted">You haven't watched any movies yet.</p>
    {% endif %}
  </div>
{% endblock %}
